<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome | The Auction House</title>
    <style>
        :root { --primary-color: #2563eb; --header-bg: #111827; --header-text: #f9fafb; --bg-color: #f3f4f6; --text-color: #1f2937; --live-color: #dc2626; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        header { width: 100%; background-color: var(--header-bg); color: var(--header-text); padding: 40px 20px; text-align: center; }
        .brand-name { font-family: "Georgia", "Times New Roman", serif; font-size: 2.5rem; letter-spacing: 2px; font-weight: bold; text-transform: uppercase; margin-bottom: 10px; }
        .tagline { font-size: 1.1rem; color: #9ca3af; font-style: italic; }

        .container { max-width: 800px; width: 90%; margin: 40px auto; background: white; padding: 40px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        
        h1 { color: var(--primary-color); text-align: center; margin-top: 0; }
        
        .rules-box { background: #f9fafb; padding: 25px; border-radius: 8px; border-left: 5px solid var(--primary-color); margin: 30px 0; }
        .rules-box p { line-height: 1.6; margin-bottom: 15px; font-size: 1.05rem; }
        .rules-box strong { color: #111827; }

        .action-area { text-align: center; margin-top: 40px; }
        .btn-list { display: inline-block; background-color: var(--primary-color); color: white; padding: 15px 40px; border-radius: 30px; font-size: 1.2rem; font-weight: bold; text-decoration: none; transition: transform 0.2s; }
        .btn-list:hover { transform: scale(1.05); background-color: #1d4ed8; }

        /* ADMIN ONLY SECTION */
        #adminControls { display: none; margin-top: 50px; padding-top: 30px; border-top: 2px dashed #ccc; text-align: center; }
        .admin-title { font-weight: bold; color: var(--live-color); text-transform: uppercase; margin-bottom: 15px; display: block; }
        .btn-admin { background: #374151; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: bold; margin: 0 5px; }

        @media (max-width: 600px) { .container { padding: 20px; } }
    </style>
</head>
<body>

    <header>
        <div class="brand-name">The Auction House</div>
        <div class="tagline">Baldwin County, Alabama</div>
    </header>

    <div class="container">
        <h1>Welcome to the Community!</h1>
        <p style="text-align: center; font-size: 1.1rem; color: #4b5563;">
            We are currently gathering items for our Grand Opening Auction. <br>
            Please review how our platform works below.
        </p>

        <div class="rules-box">
            <p><strong>‚è∞ Live Format</strong><br>
            The auction opens at a set time. Only one auction lot is up for bid at a time ("on the block").</p>
            
            <p><strong>‚è≥ 3-Minute Timer</strong><br>
            Each item is on the block for 3 minutes. Bids placed with less than 30 seconds remaining will reset the timer to 30 seconds.</p>
            
            <p><strong>ü§ù Contracts & Liability</strong><br>
            Winning bids form a contract between the Seller and the Buyer. The Auction House is a platform service only to connect buyers and sellers. We are not responsible for the quality of items sold or payment processing.</p>
            
            <p><strong>üìç Baldwin County Only</strong><br>
            This site is for buyers and sellers located in Baldwin County, Alabama. All auctions are designed for local pickup or delivery without shipping costs.</p>
        </div>

        <div class="action-area">
            <h3 style="margin-bottom: 15px;">Have something to sell?</h3>
            <a href="account.html" class="btn-list">+ List an Item Now</a>
        </div>

        <div id="adminControls">
            <span class="admin-title">‚ö†Ô∏è Admin Testing Access</span>
            <a href="admin.html" class="btn-admin">Dashboard</a>
            <a href="auction.html" class="btn-admin">Live Room</a>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // --- PASTE YOUR FIREBASE KEYS HERE ---
        const firebaseConfig = {
  apiKey: "AIzaSyCt0i8a7ZVRlNmSts9yM4uGwV7ghPU59rk",
  authDomain: "eastern-shore-auction.firebaseapp.com",
  databaseURL: "https://eastern-shore-auction-default-rtdb.firebaseio.com",
  projectId: "eastern-shore-auction",
  storageBucket: "eastern-shore-auction.firebasestorage.app",
  messagingSenderId: "771348898846",
  appId: "1:771348898846:web:3b6371e8f826747fdcba0f"
};

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);

        onAuthStateChanged(auth, (user) => {
            if (user) {
                // Check if Admin to show test buttons
                get(child(ref(db), `admins/${user.uid}`)).then((snapshot) => {
                    if (snapshot.exists() && snapshot.val() === true) {
                        document.getElementById('adminControls').style.display = 'block';
                    }
                });
            } else {
                // If not logged in, send back to home
                window.location.href = "index.html";
            }
        });
    </script>
</body>
</html>